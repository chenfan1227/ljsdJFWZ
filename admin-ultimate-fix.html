<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ˆæè®¤è¯ä¿®å¤</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.15);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }
        h1 {
            text-align: center;
            font-size: 32px;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #FFD700, #FF6B6B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary { background: linear-gradient(135deg, #4CAF50, #45a049); color: white; }
        .btn-danger { background: linear-gradient(135deg, #f44336, #d32f2f); color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
        .status {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç»ˆæè®¤è¯ä¿®å¤</h1>
        
        <button class="btn btn-primary" onclick="ultimateFix()">
            ğŸš€ ç»ˆæä¿®å¤ - ä¿è¯æˆåŠŸ
        </button>
        
        <button class="btn btn-danger" onclick="nuclearReset()">
            ğŸ’¥ æ ¸å¼¹çº§é‡ç½® - æ¸…é™¤ä¸€åˆ‡
        </button>
        
        <div class="status" id="status">
            ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹ä¿®å¤...
        </div>
        
        <button class="btn btn-primary" onclick="goToDashboard()" style="margin-top: 20px;">
            ğŸ  è¿›å…¥ç®¡ç†åå°
        </button>
    </div>

    <script>
        function updateStatus(text, type = '') {
            const status = document.getElementById('status');
            status.innerHTML = text;
            status.className = 'status ' + type;
        }
        
        async function ultimateFix() {
            updateStatus('ğŸ”§ å¼€å§‹ç»ˆæä¿®å¤...', 'success');
            
            try {
                // æ­¥éª¤1: æ ¸å¼¹çº§æ¸…ç†
                updateStatus('ğŸ’£ æ­¥éª¤1: æ ¸å¼¹çº§æ¸…ç†æ‰€æœ‰è®¤è¯æ•°æ®...', 'success');
                localStorage.clear();
                sessionStorage.clear();
                
                // æ¸…ç†æ‰€æœ‰å¯èƒ½çš„è®¤è¯key
                const authKeys = [
                    'adminAuth', 'adminToken', 'adminUser', 'admin_auth', 'admin_token', 
                    'authToken', 'userAuth', 'auth_data', 'login_data', 'session_data'
                ];
                authKeys.forEach(key => {
                    localStorage.removeItem(key);
                    sessionStorage.removeItem(key);
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤2: è·å–å…¨æ–°token
                updateStatus('ğŸ”‘ æ­¥éª¤2: ä»APIè·å–å…¨æ–°è®¤è¯token...', 'success');
                
                const response = await fetch('http://localhost:3001/api/admin/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: 'admin',
                        password: 'admin123'
                    })
                });
                
                if (!response.ok) {
                    throw new Error('APIè¯·æ±‚å¤±è´¥: ' + response.status);
                }
                
                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'ç™»å½•å¤±è´¥');
                }
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤3: è¶…çº§ä¿å­˜ (ä¿å­˜åˆ°æ‰€æœ‰å¯èƒ½çš„ä½ç½®)
                updateStatus('ğŸ’¾ æ­¥éª¤3: è¶…çº§ä¿å­˜è®¤è¯æ•°æ®åˆ°æ‰€æœ‰ä½ç½®...', 'success');
                
                const authData = {
                    token: result.token,
                    user: result.admin || result.user,
                    loginTime: new Date().toISOString(),
                    source: 'ultimate-fix',
                    timestamp: Date.now()
                };
                
                // ä¿å­˜åˆ°localStorageçš„å¤šä¸ªkey
                localStorage.setItem('adminAuth', JSON.stringify(authData));
                localStorage.setItem('adminToken', result.token);
                localStorage.setItem('adminUser', JSON.stringify(authData.user));
                localStorage.setItem('admin_auth', JSON.stringify(authData));
                localStorage.setItem('auth_data', JSON.stringify(authData));
                
                // ä¿å­˜åˆ°sessionStorageçš„å¤šä¸ªkey
                sessionStorage.setItem('adminAuth', JSON.stringify(authData));
                sessionStorage.setItem('adminToken', result.token);
                sessionStorage.setItem('adminUser', JSON.stringify(authData.user));
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤4: éªŒè¯ä¿å­˜
                updateStatus('âœ… æ­¥éª¤4: éªŒè¯è®¤è¯æ•°æ®ä¿å­˜çŠ¶æ€...', 'success');
                
                const savedAuth = localStorage.getItem('adminAuth');
                if (!savedAuth) {
                    throw new Error('è®¤è¯æ•°æ®ä¿å­˜å¤±è´¥');
                }
                
                const parsedAuth = JSON.parse(savedAuth);
                if (!parsedAuth.token || !parsedAuth.user) {
                    throw new Error('è®¤è¯æ•°æ®æ ¼å¼é”™è¯¯');
                }
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤5: å¼ºåˆ¶åˆ·æ–°é¡µé¢çŠ¶æ€
                updateStatus('ğŸ”„ æ­¥éª¤5: å¼ºåˆ¶åˆ·æ–°é¡µé¢çŠ¶æ€...', 'success');
                
                // è®¾ç½®ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œè¡¨ç¤ºè®¤è¯å·²ä¿®å¤
                localStorage.setItem('authFixed', 'true');
                localStorage.setItem('authFixTime', new Date().toISOString());
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateStatus(`ğŸ‰ ç»ˆæä¿®å¤å®Œæˆï¼
                
âœ… ä¿®å¤è¯¦æƒ…:
â€¢ æ¸…é™¤äº†æ‰€æœ‰æ—§è®¤è¯æ•°æ®
â€¢ è·å–äº†å…¨æ–°æœ‰æ•ˆtoken: ${result.token.substring(0, 30)}...
â€¢ ä¿å­˜åˆ°localStorageå’ŒsessionStorageçš„å¤šä¸ªä½ç½®
â€¢ ç”¨æˆ·: ${parsedAuth.user.username}
â€¢ è§’è‰²: ${parsedAuth.user.role}
â€¢ ä¿®å¤æ—¶é—´: ${new Date().toLocaleString()}

ğŸš€ ç°åœ¨å¯ä»¥è¿›å…¥ç®¡ç†åå°äº†ï¼è®¤è¯é—®é¢˜å·²å½»åº•è§£å†³ï¼`, 'success');
                
                // 5ç§’åè‡ªåŠ¨è·³è½¬
                setTimeout(() => {
                    updateStatus('ğŸš€ 3ç§’åè‡ªåŠ¨è·³è½¬åˆ°ç®¡ç†åå°...', 'success');
                    setTimeout(() => {
                        window.location.href = '/admin-dashboard.html';
                    }, 3000);
                }, 2000);
                
            } catch (error) {
                updateStatus(`âŒ ç»ˆæä¿®å¤å¤±è´¥: ${error.message}
                
è¯·å°è¯•ä»¥ä¸‹æ–¹æ¡ˆ:
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. å°è¯•æ ¸å¼¹çº§é‡ç½®
3. æ‰‹åŠ¨æ¸…é™¤æµè§ˆå™¨æ‰€æœ‰æ•°æ®
4. è”ç³»ç³»ç»Ÿç®¡ç†å‘˜`, 'error');
            }
        }
        
        async function nuclearReset() {
            if (!confirm('âš ï¸ æ ¸å¼¹çº§é‡ç½®å°†æ¸…é™¤æµè§ˆå™¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼\n\nç¡®å®šè¦ç»§ç»­å—ï¼Ÿ')) {
                return;
            }
            
            updateStatus('ğŸ’¥ æ‰§è¡Œæ ¸å¼¹çº§é‡ç½®...', 'error');
            
            try {
                // æ¸…é™¤æ‰€æœ‰å­˜å‚¨
                localStorage.clear();
                sessionStorage.clear();
                
                // æ¸…é™¤æ‰€æœ‰cookies
                document.cookie.split(";").forEach(function(c) {
                    document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/");
                });
                
                // æ¸…é™¤IndexedDB (å¦‚æœå­˜åœ¨)
                if ('indexedDB' in window) {
                    indexedDB.databases().then(databases => {
                        databases.forEach(db => {
                            indexedDB.deleteDatabase(db.name);
                        });
                    }).catch(() => {});
                }
                
                updateStatus(`ğŸ’¥ æ ¸å¼¹çº§é‡ç½®å®Œæˆï¼
                
å·²æ¸…é™¤:
â€¢ æ‰€æœ‰localStorageæ•°æ®
â€¢ æ‰€æœ‰sessionStorageæ•°æ®  
â€¢ æ‰€æœ‰cookies
â€¢ IndexedDBæ•°æ®åº“

ç°åœ¨å¯ä»¥é‡æ–°å¼€å§‹è®¤è¯è®¾ç½®äº†ï¼`, 'success');
                
            } catch (error) {
                updateStatus(`âŒ æ ¸å¼¹çº§é‡ç½®å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function goToDashboard() {
            window.location.href = '/admin-dashboard.html';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥è®¤è¯çŠ¶æ€
        window.addEventListener('load', function() {
            const authData = localStorage.getItem('adminAuth');
            const authFixed = localStorage.getItem('authFixed');
            
            if (authData && authFixed) {
                try {
                    const auth = JSON.parse(authData);
                    updateStatus(`ğŸ” æ£€æµ‹åˆ°å·²ä¿®å¤çš„è®¤è¯:
                    
â€¢ ç”¨æˆ·: ${auth.user.username}
â€¢ è§’è‰²: ${auth.user.role}
â€¢ ä¿®å¤æ—¶é—´: ${localStorage.getItem('authFixTime')}

å¦‚æœç®¡ç†åå°ä»æ˜¾ç¤ºæœªè®¤è¯ï¼Œè¯·ç‚¹å‡»"ç»ˆæä¿®å¤"`, 'success');
                } catch (error) {
                    updateStatus('âš ï¸ å‘ç°æŸåçš„è®¤è¯æ•°æ®ï¼Œå»ºè®®é‡æ–°ä¿®å¤', 'error');
                }
            } else {
                updateStatus('âŒ æœªå‘ç°æœ‰æ•ˆè®¤è¯ï¼Œè¯·ç‚¹å‡»"ç»ˆæä¿®å¤"å¼€å§‹ä¿®å¤', 'error');
            }
        });
    </script>
</body>
</html>


<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ˆæè®¤è¯ä¿®å¤</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.15);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }
        h1 {
            text-align: center;
            font-size: 32px;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #FFD700, #FF6B6B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary { background: linear-gradient(135deg, #4CAF50, #45a049); color: white; }
        .btn-danger { background: linear-gradient(135deg, #f44336, #d32f2f); color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
        .status {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç»ˆæè®¤è¯ä¿®å¤</h1>
        
        <button class="btn btn-primary" onclick="ultimateFix()">
            ğŸš€ ç»ˆæä¿®å¤ - ä¿è¯æˆåŠŸ
        </button>
        
        <button class="btn btn-danger" onclick="nuclearReset()">
            ğŸ’¥ æ ¸å¼¹çº§é‡ç½® - æ¸…é™¤ä¸€åˆ‡
        </button>
        
        <div class="status" id="status">
            ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹ä¿®å¤...
        </div>
        
        <button class="btn btn-primary" onclick="goToDashboard()" style="margin-top: 20px;">
            ğŸ  è¿›å…¥ç®¡ç†åå°
        </button>
    </div>

    <script>
        function updateStatus(text, type = '') {
            const status = document.getElementById('status');
            status.innerHTML = text;
            status.className = 'status ' + type;
        }
        
        async function ultimateFix() {
            updateStatus('ğŸ”§ å¼€å§‹ç»ˆæä¿®å¤...', 'success');
            
            try {
                // æ­¥éª¤1: æ ¸å¼¹çº§æ¸…ç†
                updateStatus('ğŸ’£ æ­¥éª¤1: æ ¸å¼¹çº§æ¸…ç†æ‰€æœ‰è®¤è¯æ•°æ®...', 'success');
                localStorage.clear();
                sessionStorage.clear();
                
                // æ¸…ç†æ‰€æœ‰å¯èƒ½çš„è®¤è¯key
                const authKeys = [
                    'adminAuth', 'adminToken', 'adminUser', 'admin_auth', 'admin_token', 
                    'authToken', 'userAuth', 'auth_data', 'login_data', 'session_data'
                ];
                authKeys.forEach(key => {
                    localStorage.removeItem(key);
                    sessionStorage.removeItem(key);
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤2: è·å–å…¨æ–°token
                updateStatus('ğŸ”‘ æ­¥éª¤2: ä»APIè·å–å…¨æ–°è®¤è¯token...', 'success');
                
                const response = await fetch('http://localhost:3001/api/admin/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: 'admin',
                        password: 'admin123'
                    })
                });
                
                if (!response.ok) {
                    throw new Error('APIè¯·æ±‚å¤±è´¥: ' + response.status);
                }
                
                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'ç™»å½•å¤±è´¥');
                }
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤3: è¶…çº§ä¿å­˜ (ä¿å­˜åˆ°æ‰€æœ‰å¯èƒ½çš„ä½ç½®)
                updateStatus('ğŸ’¾ æ­¥éª¤3: è¶…çº§ä¿å­˜è®¤è¯æ•°æ®åˆ°æ‰€æœ‰ä½ç½®...', 'success');
                
                const authData = {
                    token: result.token,
                    user: result.admin || result.user,
                    loginTime: new Date().toISOString(),
                    source: 'ultimate-fix',
                    timestamp: Date.now()
                };
                
                // ä¿å­˜åˆ°localStorageçš„å¤šä¸ªkey
                localStorage.setItem('adminAuth', JSON.stringify(authData));
                localStorage.setItem('adminToken', result.token);
                localStorage.setItem('adminUser', JSON.stringify(authData.user));
                localStorage.setItem('admin_auth', JSON.stringify(authData));
                localStorage.setItem('auth_data', JSON.stringify(authData));
                
                // ä¿å­˜åˆ°sessionStorageçš„å¤šä¸ªkey
                sessionStorage.setItem('adminAuth', JSON.stringify(authData));
                sessionStorage.setItem('adminToken', result.token);
                sessionStorage.setItem('adminUser', JSON.stringify(authData.user));
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤4: éªŒè¯ä¿å­˜
                updateStatus('âœ… æ­¥éª¤4: éªŒè¯è®¤è¯æ•°æ®ä¿å­˜çŠ¶æ€...', 'success');
                
                const savedAuth = localStorage.getItem('adminAuth');
                if (!savedAuth) {
                    throw new Error('è®¤è¯æ•°æ®ä¿å­˜å¤±è´¥');
                }
                
                const parsedAuth = JSON.parse(savedAuth);
                if (!parsedAuth.token || !parsedAuth.user) {
                    throw new Error('è®¤è¯æ•°æ®æ ¼å¼é”™è¯¯');
                }
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // æ­¥éª¤5: å¼ºåˆ¶åˆ·æ–°é¡µé¢çŠ¶æ€
                updateStatus('ğŸ”„ æ­¥éª¤5: å¼ºåˆ¶åˆ·æ–°é¡µé¢çŠ¶æ€...', 'success');
                
                // è®¾ç½®ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œè¡¨ç¤ºè®¤è¯å·²ä¿®å¤
                localStorage.setItem('authFixed', 'true');
                localStorage.setItem('authFixTime', new Date().toISOString());
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateStatus(`ğŸ‰ ç»ˆæä¿®å¤å®Œæˆï¼
                
âœ… ä¿®å¤è¯¦æƒ…:
â€¢ æ¸…é™¤äº†æ‰€æœ‰æ—§è®¤è¯æ•°æ®
â€¢ è·å–äº†å…¨æ–°æœ‰æ•ˆtoken: ${result.token.substring(0, 30)}...
â€¢ ä¿å­˜åˆ°localStorageå’ŒsessionStorageçš„å¤šä¸ªä½ç½®
â€¢ ç”¨æˆ·: ${parsedAuth.user.username}
â€¢ è§’è‰²: ${parsedAuth.user.role}
â€¢ ä¿®å¤æ—¶é—´: ${new Date().toLocaleString()}

ğŸš€ ç°åœ¨å¯ä»¥è¿›å…¥ç®¡ç†åå°äº†ï¼è®¤è¯é—®é¢˜å·²å½»åº•è§£å†³ï¼`, 'success');
                
                // 5ç§’åè‡ªåŠ¨è·³è½¬
                setTimeout(() => {
                    updateStatus('ğŸš€ 3ç§’åè‡ªåŠ¨è·³è½¬åˆ°ç®¡ç†åå°...', 'success');
                    setTimeout(() => {
                        window.location.href = '/admin-dashboard.html';
                    }, 3000);
                }, 2000);
                
            } catch (error) {
                updateStatus(`âŒ ç»ˆæä¿®å¤å¤±è´¥: ${error.message}
                
è¯·å°è¯•ä»¥ä¸‹æ–¹æ¡ˆ:
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. å°è¯•æ ¸å¼¹çº§é‡ç½®
3. æ‰‹åŠ¨æ¸…é™¤æµè§ˆå™¨æ‰€æœ‰æ•°æ®
4. è”ç³»ç³»ç»Ÿç®¡ç†å‘˜`, 'error');
            }
        }
        
        async function nuclearReset() {
            if (!confirm('âš ï¸ æ ¸å¼¹çº§é‡ç½®å°†æ¸…é™¤æµè§ˆå™¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼\n\nç¡®å®šè¦ç»§ç»­å—ï¼Ÿ')) {
                return;
            }
            
            updateStatus('ğŸ’¥ æ‰§è¡Œæ ¸å¼¹çº§é‡ç½®...', 'error');
            
            try {
                // æ¸…é™¤æ‰€æœ‰å­˜å‚¨
                localStorage.clear();
                sessionStorage.clear();
                
                // æ¸…é™¤æ‰€æœ‰cookies
                document.cookie.split(";").forEach(function(c) {
                    document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/");
                });
                
                // æ¸…é™¤IndexedDB (å¦‚æœå­˜åœ¨)
                if ('indexedDB' in window) {
                    indexedDB.databases().then(databases => {
                        databases.forEach(db => {
                            indexedDB.deleteDatabase(db.name);
                        });
                    }).catch(() => {});
                }
                
                updateStatus(`ğŸ’¥ æ ¸å¼¹çº§é‡ç½®å®Œæˆï¼
                
å·²æ¸…é™¤:
â€¢ æ‰€æœ‰localStorageæ•°æ®
â€¢ æ‰€æœ‰sessionStorageæ•°æ®  
â€¢ æ‰€æœ‰cookies
â€¢ IndexedDBæ•°æ®åº“

ç°åœ¨å¯ä»¥é‡æ–°å¼€å§‹è®¤è¯è®¾ç½®äº†ï¼`, 'success');
                
            } catch (error) {
                updateStatus(`âŒ æ ¸å¼¹çº§é‡ç½®å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function goToDashboard() {
            window.location.href = '/admin-dashboard.html';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥è®¤è¯çŠ¶æ€
        window.addEventListener('load', function() {
            const authData = localStorage.getItem('adminAuth');
            const authFixed = localStorage.getItem('authFixed');
            
            if (authData && authFixed) {
                try {
                    const auth = JSON.parse(authData);
                    updateStatus(`ğŸ” æ£€æµ‹åˆ°å·²ä¿®å¤çš„è®¤è¯:
                    
â€¢ ç”¨æˆ·: ${auth.user.username}
â€¢ è§’è‰²: ${auth.user.role}
â€¢ ä¿®å¤æ—¶é—´: ${localStorage.getItem('authFixTime')}

å¦‚æœç®¡ç†åå°ä»æ˜¾ç¤ºæœªè®¤è¯ï¼Œè¯·ç‚¹å‡»"ç»ˆæä¿®å¤"`, 'success');
                } catch (error) {
                    updateStatus('âš ï¸ å‘ç°æŸåçš„è®¤è¯æ•°æ®ï¼Œå»ºè®®é‡æ–°ä¿®å¤', 'error');
                }
            } else {
                updateStatus('âŒ æœªå‘ç°æœ‰æ•ˆè®¤è¯ï¼Œè¯·ç‚¹å‡»"ç»ˆæä¿®å¤"å¼€å§‹ä¿®å¤', 'error');
            }
        });
    </script>
</body>
</html>

